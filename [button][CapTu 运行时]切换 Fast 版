import bpy

# ====================================
# ğŸŸ CAPTU CONFIG
# ====================================

# æ§åˆ¶ä¸¤ç§å“è´¨æ˜¯å¦å¯ç”¨
ENABLE_NORMAL = False
ENABLE_FAST = True

# å¯¹è±¡åç§°é…ç½®
CAPTU_BODY_NAME = "captu.body"
CAPTU_BODY_FAST_NAME = "captu.body_fast"
FACIAL_HAIR_OBJ_NAME = "captu.facial_hair_surface"

# ä¿®æ”¹å™¨å…³é”®å­—é…ç½®
MODIFIER_KEYWORD_RUNTIME = "(Runtime)"
MODIFIER_KEYWORD_RUNTIME_FAST = "(Runtime Fast)"

# ====================================
# ğŸŸ INTERNAL HELPERS
# ====================================
def set_object_visibility(obj_name, visible):
    obj = bpy.data.objects.get(obj_name)
    if obj:
        obj.hide_viewport = not visible
        obj.hide_render = not visible
        print(f"{'Enabled' if visible else 'Disabled'} object '{obj_name}'")
    else:
        print(f"âš ï¸ Object '{obj_name}' not found")

def set_modifiers_visibility(obj_name, keyword, visible):
    obj = bpy.data.objects.get(obj_name)
    if not obj:
        print(f"âš ï¸ Object '{obj_name}' not found for modifier operation")
        return
    for m in obj.modifiers:
        if keyword in m.name:
            m.show_viewport = visible
            m.show_render = visible
            print(f"{'Enabled' if visible else 'Disabled'} modifier '{m.name}'")

# ====================================
# ğŸŸ MAIN LOGIC
# ====================================
def captu_apply_quality_config():
    print("ğŸŸ Applying Captu quality configuration...")

    # æ™®é€šç‰ˆè®¾ç½®
    set_object_visibility(CAPTU_BODY_NAME, ENABLE_NORMAL)
    set_modifiers_visibility(FACIAL_HAIR_OBJ_NAME, MODIFIER_KEYWORD_RUNTIME, ENABLE_NORMAL)

    # Fast ç‰ˆè®¾ç½®
    set_object_visibility(CAPTU_BODY_FAST_NAME, ENABLE_FAST)
    set_modifiers_visibility(FACIAL_HAIR_OBJ_NAME, MODIFIER_KEYWORD_RUNTIME_FAST, ENABLE_FAST)

    print("âœ… Captu quality configuration applied.")

# ====================================
# ğŸŸ EXECUTE
# ====================================
captu_apply_quality_config()
